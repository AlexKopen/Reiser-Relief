{{ include('experience/experience-header.twig') }}

<section>
    <div id="trip-selection">
        <div class="container">
            <div class="padding-hold">
                {% if Trips is not empty %}
                    <table class="pure-table pure-table-striped">
                        <thead>
                        <tr>
                            <th>Trip Date</th>
                            <th>Trip Leader</th>
                            <th>Trip Status</th>
                        </tr>
                        </thead>

                        <tbody>
                        {% for CurrentTrip in Trips %}
                            <tr>
                                <td>{{ CurrentTrip['date'] | date("l, F jS, Y") }}</td>
                                <td>{{ CurrentTrip['tripLeader'] }}</td>
                                {% if CurrentTrip['status'] == 'Open' %}
                                    <td class="apply-status">
                                        <a class="plain-link"
                                           href="/experience/apply?id={{ CurrentTrip['id'] }}&date={{ CurrentTrip['date'] }}">
                                            <div class="apply-container">
                                                <p>
                                                    Apply
                                                </p>
                                            </div>
                                        </a>
                                    </td>
                                {% else %}
                                    <td class="full-status">Trip is full</td>
                                {% endif %}
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>

                    {% for CurrentTrip in Trips %}
                        <div class="small-table-hold">
                            <div class="small-table-row odd" id="first">
                                <div class="pure-g">
                                    <div class="pure-u-1-2">
                                        <div class="left-column"><p>Trip Date</p></div>
                                    </div>
                                    <div class="pure-u-1-2"><p>{{ CurrentTrip['date'] | date("F jS, Y") }}</p></div>
                                </div>
                            </div>
                            <div class="small-table-row" id="last">
                                <div class="pure-g">
                                    <div class="pure-u-1-2">
                                        <div class="left-column"><p>Trip Status</p></div>
                                    </div>
                                    <div class="pure-u-1-2">
                                        {% if CurrentTrip['status'] == 'Open' %}
                                        <a class="plain-link"
                                           href="/experience/apply?id={{ CurrentTrip['id'] }}&date={{ CurrentTrip['date'] }}">
                                            <p>
                                                Apply
                                            </p>
                                            {% else %}
                                                <p class="full-status">Trip is full</p>
                                            {% endif %}
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}

                {% else %}

                    <div id="page-info">
                        <h1 id="page-info-heading">
                            There are no upcoming mission trips. Please check back again another time.
                        </h1>
                    </div>

                {% endif %}
            </div>
        </div>
    </div>
</section>

{{ include('experience/experience-footer.twig') }}
